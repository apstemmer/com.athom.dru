{
    "id": "com.athom.dru",
    "name": {
        "en": "DRU",
        "nl": "DRU"
    },
    "version": "0.0.1",
    "compatibility": "0.x || 1.x",
    "author": {
        "name": "Arthur Stemmer",
        "email": "apstemmer@hotmail.com"
    },

    "description":"Use this app to control your DRU fireplace via Homey",
    "flow" : {
        "conditions":[
            {
                "id":"light_status",
                "title":{
                    "en":"are the lights !{{on|off}}?",
                    "nl":"zijn de lichten !{{aan|uit}}?"
                },
                "args":[
                  {
                    "name":"device",
                    "type":"device",
                    "filter": "driver_id=dru"
                  }
                ]
            },
            {
                "id":"room_temp",
                "title":{
                    "en":"Room temperature is:",
                    "nl":"De temperatuur is:"
                },
                "args":[
                    {
                      "name":"device",
                      "type":"device",
                      "filter": "driver_id=dru"
                    },
                    {
                        "name":"temp_rel",
                        "type":"dropdown",
                        "values":[
                            {
                                "id":"larger",
                                "label":{
                                    "en":"larger than",
                                    "nl":"groter dan"
                                }
                            },
                            {
                                "id":"equal",
                                "label":{
                                    "en":"equal to",
                                    "nl":"gelijk aan"
                                }
                            },
                            {
                                "id":"smaller",
                                "label":{
                                    "en":"smaller than",
                                    "nl":"kleiner dan"
                                }
                            }
                        ]
                    },
                    {
                        "name":"temp_set",
                        "type":"range",
                        "min":-20,
                        "max":40,
                        "step":0.5,
                        "label":"Â°C",
                        "labelMultiplier":1,
                        "labelDecimals":1
                    }
                ]
            }
        ],
        "actions":[
            {
                "id":"light_switch",
                "title": {
                    "en": "turn light",
                    "nl": "doe licht"
                },
                "args":[
                    {
                      "name":"device",
                      "type":"device",
                      "filter": "driver_id=dru"
                    },
                    {
                        "name":"toggle",
                        "type":"dropdown",
                        "values":[
                            {
                                "id":"on",
                                "label":{
                                    "en":"on",
                                    "nl":"aan"
                                }
                            },
                            {
                                "id":"off",
                                "label":{
                                    "en":"off",
                                    "nl":"uit"
                                }
                            }
                        ]
                    }
                ]
            },
            {
                "id":"main_switch",
                "title": {
                    "en": "turn flames",
                    "nl": "zet vlammen"
                },
                "args":[
                    {
                      "name":"device",
                      "type":"device",
                      "filter": "driver_id=dru"
                    },
                    {
                        "name":"toggle",
                        "type":"dropdown",
                        "values":[
                            {
                                "id":"on",
                                "label":{
                                    "en":"on",
                                    "nl":"aan"
                                }
                            },
                            {
                                "id":"off",
                                "label":{
                                    "en":"off",
                                    "nl":"uit"
                                }
                            }
                        ]
                    }
                ]
            },
            {
                "id":"secondary_switch",
                "title": {
                    "en": "turn secondary",
                    "nl": "zet tweede vlam"
                },
                "args":[
                    {
                      "name":"device",
                      "type":"device",
                      "filter": "driver_id=dru"
                    },
                    {
                        "name":"toggle",
                        "type":"dropdown",
                        "values":[
                            {
                                "id":"on",
                                "label":{
                                    "en":"on",
                                    "nl":"aan"
                                }
                            },
                            {
                                "id":"off",
                                "label":{
                                    "en":"off",
                                    "nl":"uit"
                                }
                            }
                        ]
                    }
                ]
            },
            {
                "id":"main_height",
                "title": {
                    "en": "set flame intensity",
                    "nl": "sterke van de vlam"
                },
                "args":[
                    {
                      "name":"device",
                      "type":"device",
                      "filter": "driver_id=dru"
                    },
                    {
                        "name":"height",
                        "type":"range",
                        "min":0,
                        "max":100,
                        "step":1,
                        "label":"%",
                        "labelMultiplier": 1,
                        "labelDecimals":2
                    }
                ]
            }
        ]
    },
    "drivers":[
        {
            "id":"dru",
            "name":{
                "en":"Dru driver",
                "nl":"Dru driver"

            },
            "class":"other",
            "pair":[
                {
                    "id":"list_my_devices",
                    "template":"list_devices",
                    "navigation": {
                        "next": "add_my_devices"
                    }
                },
                {
                    "id": "add_my_devices",
                    "template": "add_devices"
                }
            ],
            "capabilities":["light", "main","secondary","flame_height"],
            "settings":[
                {
                  "type":"group",
                  "label": {
                    "en":"fireplace settings",
                    "nl":"haard instellingen"
                  },
                  "children":[
                      {
                        "id":"rssi",
                        "type":"number",
                        "label":{
                          "en":"RSSI",
                          "nl":"RSSI"
                        },
                        "value": 0
                      }
                  ]
                },
                {
                  "type":"group",
                  "label":{
                    "en":"gateway settings",
                    "nl":"gateway instellingen"
                  },
                  "children":[
                    {
                      "id":"ip",
                      "type":"text",
                      "label":{
                        "en":"ip-address",
                        "nl":"ip-adres"
                      },
                      "value":"0.0.0.0"
                    }
                  ]
                }
              ]
        }
    ],
    "capabilities":{
      "light":{
        "type":"boolean",
        "title":{
          "en":"Control lights@",
          "nl":"Controleer lichten@"
        },
        "getable":true,
        "setable":true
      },
      "main":{
        "type":"boolean",
        "title":{
          "en":"Main flame",
          "nl":"Hoofdvlam"
        },
        "getable": true,
        "setable": true
      },
      "secondary":{
        "type":"boolean",
        "title":{
          "en":"Secondary flame",
          "nl":"Tweede vlam"
        },
        "getable": true,
        "setable": true
      },
      "flame_height":{
        "type":"number",
        "decimals":0,
        "title":{
          "en":"main flame height",
          "nl":"intensiteit hoofdvlam"
        },
        "max":100,
        "min": 0,
        "getable":true,
        "setable": true
      }
    }
}
